[[dynamic_completions]]
command = "git"
subcommands = ["checkout", "switch", "merge", "rebase"]
description = "Complete git branch names"
match_condition = { type = "HasSubcommand" }
shell_command = "git branch --format='%(refname:short)' | grep -v '^origin/' | tr -d ' '"

[[dynamic_completions]]
command = "git"
subcommands = ["push", "pull", "fetch"]
description = "Complete git remote names"
match_condition = { type = "ArgIndex", params = 0 }
shell_command = "git remote"

[[dynamic_completions]]
command = "git"
subcommands = ["push", "pull", "fetch"]
description = "Complete git branch names"
match_condition = { type = "ArgIndex", params = 1 }
shell_command = "git branch --format='%(refname:short)' | grep -v '^origin/' | tr -d ' '"